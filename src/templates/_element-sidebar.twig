{% import "_includes/forms" as forms %}

{% do view.registerAssetBundle("brikdigital\\entrynavigation\\assetbundles\\EntryNavigationAsset") %}

{% set options = ['Select a menu']|merge(navs|map(n => "#{n.name}")) %}

{#{% dd options %}#}

<div class="data entry-nav-container">
    <div class="value">
        <div class="select">
            <select id="navSelect" data-action="{{ fetchNavItemsUrl }}">
                {% for nav in ['Select a menu']|merge(navs) %}
                    <option value="{{ loop.index }}" data-id="{{ nav.id ?? 0 }}">{{ nav }}</option>
                {% endfor %}
            </select>
        </div>
{#        {{ forms.select({#}
{#            id: 'navSelect',#}
{#            options: options,#}
{#            inputAttributes: {#}
{#                data: {#}
{#                    action: fetchNavItemsUrl#}
{#                }#}
{#            }#}
{#        }) }}#}
    </div>
    <div id="submenu"></div>
</div>